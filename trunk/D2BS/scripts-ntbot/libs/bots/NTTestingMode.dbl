include("common/NTSnagIt.dbl"); 
function NT_TestingMode()
{
	addEventListener("keydown", 
		function (key) {
			if (key === 45) { // insert
				doSomething();
			}
		}
	);
	
	while (1) {
		delay(100);
	}
}

function doSomething() {
	print("slkdjflksd"); 
	D2Bot.printToConsole("ÿc2Kept");
	
}
var channel = "#vConsole";

function test(item, handle, who, user)	
{
	var quality = [" Rune", " Low Quality", " Normal", " Superior", " 12Magic", " 3Set", " 8Rare", " 5Unique", " 7Crafted"]
	var _foo = item.description.split(/\n/);
	var	dmg =((item.getStat(21))? " Damage: "+item.getStat(21) +"-"+item.getStat(22) :"")
	var	soc =((item.getStat(194))? "Socketed ["+item.getStat(194) :"") 
	var	def =((item.getStat(31))?" Defence: "+item.getStat(31) :"");
    
	sendDDE(1, handle, "COMMAND", "", "/msg " +who+ " " + " " +user+","+" 4" + "new item found by " +me.account );
	delay(10); 
	sendDDE(1, handle, "COMMAND", "", "/msg " +who+ " " + quality[item.quality]+ " " + item.name + " ("+item.ilvl+")");
	delay(10); 
	if(dmg){
		sendDDE(1, handle, "COMMAND", "", "/msg " + who + " " + dmg);
		delay(10); 
	}
	if(def){
		sendDDE(1, handle, "COMMAND", "", "/msg " + who + " " +def);
		delay(10); 	
	}


	sendDDE(1, handle, "COMMAND", "", "/msg " +who + " " + " Required Level: " +item.lvlreq);
	delay(10); 	
	for ( var i = 0; i < _foo.length-1; i++){
		sendDDE(1, handle, "COMMAND", "", "/msg " +who+ " " + " 12" + _foo[i]);
		delay(100); 
	}
	
	if(soc){
		sendDDE(1, handle, "COMMAND", "", "/msg " +who+ " "+ " 12" +soc+"]");
	}
		
	return true;
}


function col(){
print("ÿc0 Hello");
delay(30); 
print("ÿc0 Hello");
delay(30); 
print("ÿc0 Hello");
delay(30); 
print("ÿc0 Hello");
delay(30); 
print("ÿc3 Hello");
delay(30); 
print("ÿc2 Hello");
delay(30); 
print("ÿc9 Hello");
delay(30); 
print("ÿc4 Hello");
delay(30); 
print("ÿc8 Hello");
delay(30); 
print("ÿc; Hello"); //purple
delay(30); 
print("ÿc1 Hello"); //red
}


function testTwitter(item, handle, who, user)	
{
	var _foo = item.description;
	print(_foo); 
	//sendDDE(1, handle, "COMMAND", "", "/twitter " + _foo[0]);
	return true;
}

var D2Bot = {
	printToConsole: function(msg) {
		sendCopyData(null, "D2Bot Console", 0, "printToConsole;"+msg);
	},
	printToItemLog: function(msg) {
		sendCopyData(null, "D2Bot Manager", 0, "printToItemLog;"+msg);
	},
	updateStatus: function(msg) {
		sendCopyData(null, "D2Bot Manager", 0, "updateStatus;"+msg);;
	},
	updateRuns: function() {
		sendCopyData(null, "D2Bot Manager", 0, "updateRuns");
	},
	updateChickens: function() {
		sendCopyData(null, "D2Bot Manager", 0, "updateChickens");
	},
	requestGameInfo: function() {
		sendCopyData(null, "D2Bot Manager", 0, "requestGameInfo");
	},	
	joinMe: function(window) {
		sendCopyData(null, window, D2BOT_JOIN, me.gamename+"/"+me.password);
	},	
	CDKeyInUse: function() {
		sendCopyData(null, "D2Bot Manager", 0, "CDKeyInUse");
	}
};